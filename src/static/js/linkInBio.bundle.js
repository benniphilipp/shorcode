/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/js/linkinbio/linkinbio.js":
/*!******************************************!*\
  !*** ./assets/js/linkinbio/linkinbio.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _module_getCookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./module/getCookie */ \"./assets/js/linkinbio/module/getCookie.js\");\n/* harmony import */ var _module_sidebarSwitcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./module/sidebarSwitcher */ \"./assets/js/linkinbio/module/sidebarSwitcher.js\");\n/* harmony import */ var _module_linkListe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./module/linkListe */ \"./assets/js/linkinbio/module/linkListe.js\");\n/* harmony import */ var _module_crateFormLink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./module/crateFormLink */ \"./assets/js/linkinbio/module/crateFormLink.js\");\n/* harmony import */ var _module_updateFormLinks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./module/updateFormLinks */ \"./assets/js/linkinbio/module/updateFormLinks.js\");\n\n\n\nconst csrftoken = (0,_module_getCookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)('csrftoken');\n\n// Linkinbio Links Javascript\n\n\n\n\nconst crateformlink = new _module_crateFormLink__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst createformlinks = new _module_updateFormLinks__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\n\n// Sidebar Open & Close\nconst openFormButton = document.querySelector(\"#openForm\");\nconst closeFormButton = document.querySelector(\"#closeForm\");\n\nif (openFormButton) {\n    openFormButton.addEventListener('click', _module_sidebarSwitcher__WEBPACK_IMPORTED_MODULE_1__.openForm);\n}\n\nif (closeFormButton) {\n    closeFormButton.addEventListener('click', _module_sidebarSwitcher__WEBPACK_IMPORTED_MODULE_1__.closeForm);\n}\n\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/linkinbio.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/crateFormLink.js":
/*!*****************************************************!*\
  !*** ./assets/js/linkinbio/module/crateFormLink.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getCookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getCookie */ \"./assets/js/linkinbio/module/getCookie.js\");\n/* harmony import */ var _linkListe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./linkListe */ \"./assets/js/linkinbio/module/linkListe.js\");\n/* harmony import */ var _lsToast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lsToast */ \"./assets/js/linkinbio/module/lsToast.js\");\n\n\n\n\nclass crateFormLink{\n\n    constructor(){\n        this.createOpenCloseForm = document.querySelector('#createOpenCloseForm');\n        this.createlinkinbio = document.querySelector('#createlinkinbio');\n\n        this.formCreateShorcode = document.querySelector('#form-create-shorcode');        \n        this.formCreateLinkSelect = document.querySelector('#form-create-link-select');\n        \n        this.linkUrlSubmit = document.querySelector('#linkUrlSubmit');\n\n        this.shortcodeInput = document.querySelector('#selectShortcode');\n\n        this.buttonLabelInput = document.querySelector('#buttonLabelSelcetSubmit');\n        this.selectShortcodeInput = document.querySelector('#selectShortcode');\n\n        this.linkList = new _linkListe__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n        this.csrftoken = (0,_getCookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)('csrftoken');\n        this.event();\n    }\n\n    event(){\n        const formCreateShorcode = document.querySelector('#form-create-shorcode'); \n        const createOpenCloseForm = document.querySelector('#createOpenCloseForm');\n        const createSearch = document.querySelector('#createSearch');\n        const formCreateLinkSelect = document.querySelector('#form-create-link-select');\n        const linkUrlSubmit = document.querySelector('#linkUrlSubmit');\n        const shortcodeInput = document.querySelector('#selectShortcode');\n        const buttonLabelInput = document.querySelector('#buttonLabelSelcetSubmit');\n        const selectShortcodeInput = document.querySelector('#selectShortcode');\n        if(createOpenCloseForm){\n            this.createOpenCloseForm.addEventListener('click', this.opencrateform.bind(this));\n        }\n        if(formCreateShorcode){\n            document.querySelector('#createShorcode').addEventListener('change', this.handleShorcodeUpdateChange.bind(this));\n        }\n        if(createSearch){\n            document.querySelector('#createSearch').addEventListener('change', this.handleSearchUpdateChange.bind(this));\n        }\n        if(formCreateLinkSelect){\n            this.formCreateLinkSelect.addEventListener('submit', this.cratelinkInBioSelectSubmit.bind(this));\n        }\n        if(formCreateShorcode){\n            this.formCreateShorcode.addEventListener('submit', this.createLinkInBioSubmit.bind(this));   \n        }\n        if(linkUrlSubmit){\n            this.linkUrlSubmit.addEventListener('keyup', this.eventHandlerUrlChecke.bind(this));\n        }\n        if(shortcodeInput){\n            this.shortcodeInput.addEventListener('keyup', this.AutocompleteShorcdcode.bind(this));\n        }\n        if(buttonLabelInput){\n            this.buttonLabelInput.addEventListener('input', this.checkInputs.bind(this));\n        }\n        if(selectShortcodeInput){\n            this.selectShortcodeInput.addEventListener('input', this.checkInputs.bind(this));\n        }\n    }\n\n    // Cratelink in bio Submit form\n    createLinkInBioSubmit(event){\n        event.preventDefault();\n        const self = this;\n        const buttonLabelInput = document.querySelector('#buttonLabelSubmit');\n        const linkUrlInput = document.querySelector('#linkUrlSubmit');\n        const linkInBioPageIDInput = document.querySelector('#linkInBioPageID');\n        const actionAttribute = this.formCreateShorcode.getAttribute('action');\n        \n        const buttonLabelValue = buttonLabelInput.value;\n        const linkUrlValue = linkUrlInput.value;\n        const linkInBioPageIDValue = linkInBioPageIDInput.value;\n        \n        const formData = new FormData();\n        formData.append('button_label', buttonLabelValue);\n        formData.append('link_url', linkUrlValue);\n        formData.append('linkinbio_page', linkInBioPageIDValue);\n\n        $.ajax({\n            type: 'POST',\n            url: actionAttribute,\n            data: formData,\n            processData: false,\n            contentType: false,\n            headers: {\n                'X-CSRFToken': this.csrftoken \n            },\n            success: function (data) {\n\n                buttonLabelInput.value = '';\n                linkUrlInput.value = '';\n\n                // Success masage\n                (0,_lsToast__WEBPACK_IMPORTED_MODULE_2__.lsToast)(translations['Der Link wurde erfolgreich erstellt und mit Ihrer Link-in-Bio-Seite verkn체pft.']);\n\n                document.querySelector('#buttonCrateShortcode').classList.add('disabled');\n                document.querySelector('.url-chacke-feedback').textContent = '';\n               \n                // Link liste neue laden\n                self.linkList.linklistview();\n            },\n            error: function (xhr, status, error) {\n                console.error('Fehler:', status, error);\n            }\n        });\n    }\n\n    // Link in Bio Selcet\n    cratelinkInBioSelectSubmit(event){\n        event.preventDefault();\n        const self = this;\n        const formCreateLinkAttribute = this.formCreateLinkSelect.getAttribute('action');\n\n        const buttonLabelSelcetSubmitInput = document.querySelector('#buttonLabelSelcetSubmit');\n        const linkinbioPageIdInput = document.querySelector('#linkinbio_page_id');\n        const shortcodeIdInput = document.querySelector('#shortcode_id');\n\n        const linkinbioPageIdValue = linkinbioPageIdInput.value;\n        const buttonLabelSelcetSubmitValue = buttonLabelSelcetSubmitInput.value;\n        const shortcodeIdValue = shortcodeIdInput.value;\n\n        const formData = new FormData();\n        formData.append('button_label', buttonLabelSelcetSubmitValue);\n        formData.append('shortcode_id', shortcodeIdValue);\n        formData.append('linkinbio_page_id', linkinbioPageIdValue);\n\n\n        $.ajax({\n            type: 'POST',\n            url: formCreateLinkAttribute,\n            data: formData,\n            contentType: 'application/json',\n            headers: {\n                'X-CSRFToken': this.csrftoken \n            },\n            processData: false,\n            contentType: false,\n            success: function(data) {\n\n                buttonLabelSelcetSubmitInput.value = '';\n                linkinbioPageIdInput.value = '';\n                shortcodeIdInput.value = '';\n                $('#selectShortcode').val('');\n\n                // Success masage\n                (0,_lsToast__WEBPACK_IMPORTED_MODULE_2__.lsToast)(translations['Der neue Shortcode wurde erfolgreich erstellt und mit Ihrer Link-in-Bio-Seite verkn체pft.']);\n\n                document.querySelector('#buttonCrateSelectShortcode').classList.add('disabled');\n                // List View Load\n                self.linkList.linklistview();\n\n            },\n            error: function(xhr, textStatus, errorThrown) {\n                console.log('Fehler beim Senden des Formulars: ' + errorThrown)\n            }\n        });\n\n    }\n\n\n    // Input fields Link in Bio Select\n    checkInputs() {\n        const buttonLabelValue = this.buttonLabelInput.value.trim();\n        const selectShortcodeValue = this.selectShortcodeInput.value.trim();\n    \n        if (buttonLabelValue === '' && selectShortcodeValue !== '') {\n            // Das Button-Label-Feld ist leer\n            document.querySelector('#buttonCrateSelectShortcode').classList.add('disabled');\n        } else if (buttonLabelValue !== '' && selectShortcodeValue === '') {\n            // Das Select-Shortcode-Feld ist leer\n            document.querySelector('#buttonCrateSelectShortcode').classList.add('disabled');\n        } else if (buttonLabelValue === '' && selectShortcodeValue === '') {\n            // Beide Felder sind leer\n            document.querySelector('#buttonCrateSelectShortcode').classList.add('disabled');\n        } else {\n            // Beide Felder enthalten Inhalt\n            document.querySelector('#buttonCrateSelectShortcode').classList.remove('disabled');\n        }\n    }\n\n    \n    // Autocomplete Shorcdcode\n    AutocompleteShorcdcode(){\n        const searchResultsDiv = document.querySelector('#search-results')\n        const InputUrlShotcodeAutocomplete = document.querySelector('#valueUrlShotcodeAutocomplete');\n        const linkinbioPageIdInput = document.querySelector('#linkinbio_page_id');\n        const urlShorcodeAutocomplete = InputUrlShotcodeAutocomplete.value;\n        const linkinbioPageIdValue = linkinbioPageIdInput.value;\n\n        if(this.shortcodeInput.value.length > 2){\n\n            $.ajax({\n                url: urlShorcodeAutocomplete,\n                type: 'GET',\n                data:{\n                    link_in_bio_page_id: linkinbioPageIdValue,\n                    search_term : this.shortcodeInput.value,\n                },\n                headers: {\n                    'X-CSRFToken': this.csrftoken \n                },\n                success: function(response) {\n                    $(this.searchResultsDiv).empty();\n\n                    response.forEach((item) => {\n                        const shortcodeItem = $('<li>');\n                        shortcodeItem.text(item.url_titel);\n                        shortcodeItem.attr('data-id', item.id);\n                        $(searchResultsDiv).append(shortcodeItem);\n                    });\n\n                    // Click add Value hiddenfields\n                    this.shortcodeInput = $('#shortcode_id');\n                    $(searchResultsDiv).on('click', 'li', function () {\n                        const selectedText = $(this).text();\n                        const shortcodeId = $(this).attr('data-id');\n                        \n                        $('#selectShortcode').val(selectedText);\n                        $('#shortcode_id').val(shortcodeId);\n    \n                        $(searchResultsDiv).empty();\n                    });\n                },\n                error: function(error) {\n                    console.error('Error:', error);\n                }\n            });\n\n        }\n    }\n\n    // Url Regul채rer Ausdr체ck\n    isValidURL(url) {\n        const urlPattern = /^(http|https):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w-./?%&=]*)?$/;\n        return urlPattern.test(url);\n    }\n\n    // Url Check\n    eventHandlerUrlChecke() {\n        const linkUrlSubmitValue = linkUrlSubmit.value;\n        const feedbackElement = document.querySelector('.url-chacke-feedback');\n    \n        if (this.isValidURL(linkUrlSubmitValue)) {\n            if (!feedbackElement || feedbackElement.textContent !== 'Looks good!') {\n                if (feedbackElement) {\n                    feedbackElement.textContent = 'Looks good!';\n                    feedbackElement.style.color = '#198754';\n                } else {\n                    const newFeedbackElementValid = document.createElement('div');\n                    newFeedbackElementValid.className = 'url-chacke-feedback mb-3';\n                    newFeedbackElementValid.textContent = 'Looks good!';\n                    newFeedbackElementValid.style.color = '#198754';\n                    const linkInBioPageIDInput = document.querySelector('#linkInBioPageID');\n                    linkInBioPageIDInput.insertAdjacentElement('afterend', newFeedbackElementValid);\n                }\n                document.querySelector('#buttonCrateShortcode').classList.remove('disabled');\n            }\n        } else {\n            if (!feedbackElement || feedbackElement.textContent !== 'none valid') {\n                if (feedbackElement) {\n                    feedbackElement.textContent = 'none valid';\n                    feedbackElement.style.color = '#dc3545';\n                } else {\n                    const newFeedbackElementInvalid = document.createElement('div');\n                    newFeedbackElementInvalid.className = 'url-chacke-feedback mb-3';\n                    newFeedbackElementInvalid.textContent = 'none valid';\n                    newFeedbackElementInvalid.style.color = '#dc3545';\n                    const linkInBioPageIDInput = document.querySelector('#linkInBioPageID');\n                    linkInBioPageIDInput.insertAdjacentElement('afterend', newFeedbackElementInvalid);\n                }\n                document.querySelector('#buttonCrateShortcode').classList.add('disabled');\n            }\n        }\n    }\n\n    // Link Open form Crate\n    opencrateform(){\n        if (this.createlinkinbio.classList.contains('d-none')) {\n            this.createlinkinbio.classList.remove('d-none');\n          } else {\n            this.createlinkinbio.classList.add('d-none');\n        }\n    }\n\n    // handleShorcodeUpdateChange\n    handleShorcodeUpdateChange() {\n        if (document.querySelector('#createShorcode').checked) {\n            this.formCreateShorcode.classList.remove('d-none');\n            this.formCreateLinkSelect.classList.add('d-none');\n            document.querySelector('#createSearch').checked = false;\n        }\n    }\n\n    // handleSearchUpdateChange\n    handleSearchUpdateChange() {\n        if (document.querySelector('#createSearch').checked) {\n            this.formCreateShorcode.classList.add('d-none');\n            this.formCreateLinkSelect.classList.remove('d-none');\n            document.querySelector('#createShorcode').checked = false;\n        }\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (crateFormLink);\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/crateFormLink.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/getCookie.js":
/*!*************************************************!*\
  !*** ./assets/js/linkinbio/module/getCookie.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCookie: () => (/* binding */ getCookie)\n/* harmony export */ });\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/getCookie.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/linkListe.js":
/*!*************************************************!*\
  !*** ./assets/js/linkinbio/module/linkListe.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\nclass linkListe{\n\n    constructor(){\n        this.LinkInBioLinksListView = document.querySelector('#LinkInBioLinksListView');\n        this.cardContainer = document.querySelector('#card-container');\n        this.loaderImage = document.querySelector('.loader-image');\n        \n        this.isListViewRendered = false;\n        this.linklistview();\n    }\n\n    events(){}\n\n    renderCard(link) {\n        return `\n        <div class=\"card border-0 shadow-sm mb-3 sortable-grabel\">\n            <div class=\"card-body\">\n                <div class=\"row\" id=\"linkInBioCardForm${link.id}\">\n                    <div class=\"col-1\">\n                        <div class=\"d-flex mb-3 linkin-bio-hover align-items-center h-100\">\n                            <i class=\"fa-solid fa-grip-vertical\"></i>\n                        </div>\n                    </div>\n                    <div class=\"col-11\">\n                        <div class=\"d-flex align-items-center justify-content-between\">\n                            <h5 class=\"mb-0\">${link.button_label}</h5>\n                            <button type=\"button\" class=\"btn btn-primary btn-sm linkinbio-editcard\" data-linkinbio-editcard=\"${link.id}\"><i class=\"fa-solid fa-pen\"></i></button>\n                        </div>\n                        <div class=\"d-flex mt-3\">\n                            <a class=\"linkinbio\" href=\"${link.url_destination}\" target=\"_blank\">${link.url_destination}</a>\n                        </div>\n                        <div class=\"d-flex justify-content-between align-items-center mt-3\">\n                            <div class=\"d-flex align-items-center\">\n                                <i class=\"fa-solid fa-chart-line linkinbio-icon\"></i>\n                                <small class=\"mx-2 textsmall\">1</small>\n                            </div>\n                            <div class=\"form-check form-switch\">\n                                <input class=\"form-check-input linkinbio-switch\" data-linkinbio-switch=\"${link.id}\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheckDefault\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n    }\n\n\n    // ListViewLinks\n    linklistview(){\n        if (this.LinkInBioLinksListView && !this.isListViewRendered) {\n            this.isListViewRendered = true;\n      \n            $.ajax({\n              url: this.LinkInBioLinksListView.value,\n              type: 'GET',\n              dataType: 'json',\n              success: (data) => {\n                // empty list\n                $(this.cardContainer).empty();\n                this.loaderImage.classList.remove('d-none');\n\n                setTimeout(() => {\n                  for (var i = 0; i < data.links.length; i++) {\n                    var link = data.links[i];\n                    var card = this.renderCard(link);\n                    $(this.cardContainer).append($(card));\n\n                  }\n                  $(this.loaderImage.classList.add('d-none'));\n                }, 1000);\n              },\n              error: (xhr, textStatus, errorThrown) => {\n                console.error('Fehler:', errorThrown);\n              }\n            });\n          }\n\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (linkListe);\n\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/linkListe.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/lsToast.js":
/*!***********************************************!*\
  !*** ./assets/js/linkinbio/module/lsToast.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearContent: () => (/* binding */ clearContent),\n/* harmony export */   lsToast: () => (/* binding */ lsToast)\n/* harmony export */ });\n/* Alert Box Close */\nfunction clearContent() {\n    setTimeout(function() {\n        $('#toast-alert').html('');\n    }, 4000);\n}\n\n/* Alert Box */\nfunction lsToast(parmToast) {\n    $('#toast-alert').html(`\n        <div class=\"ls-toast\" id=\"ls-toas\">\n            <div class=\"ls-toas-header d-flex justify-content-start align-items-center px-2 py-2\">\n                <svg class=\"bd-placeholder-img rounded me-2\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><rect width=\"100%\" height=\"100%\" fill=\"#007aff\"></rect></svg>\n                <span><b>Meldung</b></span>\n                <i class=\"fa-solid fa-xmark ms-auto\"></i>\n            </div>\n            <hr>\n            <div class=\"ls-toas-body p-2\">\n                ${parmToast}\n            </div>\n        </div>\n    `);\n    clearContent();\n}\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/lsToast.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/sidebarSwitcher.js":
/*!*******************************************************!*\
  !*** ./assets/js/linkinbio/module/sidebarSwitcher.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeForm: () => (/* binding */ closeForm),\n/* harmony export */   openForm: () => (/* binding */ openForm)\n/* harmony export */ });\nfunction openForm() {\n    document.querySelector('#aside-form').classList.add(\"toggle\");\n    document.querySelector('#overlay-open').classList.add(\"overlay-open\");\n    \n    const templateNameInput = document.querySelector('#id_template_name');\n    templateNameInput.style.borderColor = '#dc3545';\n    \n    templateNameInput.addEventListener('change', () => {\n        templateNameInput.style.borderColor = '';\n    });\n}\n\nfunction closeForm() {\n    document.querySelector('#aside-form').classList.remove(\"toggle\");\n    document.querySelector('#overlay-open').classList.remove(\"overlay-open\");\n}\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/sidebarSwitcher.js?");

/***/ }),

/***/ "./assets/js/linkinbio/module/updateFormLinks.js":
/*!*******************************************************!*\
  !*** ./assets/js/linkinbio/module/updateFormLinks.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getCookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getCookie */ \"./assets/js/linkinbio/module/getCookie.js\");\n\n\nclass createFormLinks {\n\n    constructor(){\n        this.csrftoken = (0,_getCookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)('csrftoken');\n        this.event();  \n    }\n\n    event(){\n        const linkinbioEditcardContainer = document.querySelector('#card-container-form');\n        if (linkinbioEditcardContainer) {\n          linkinbioEditcardContainer.addEventListener('submit', this.handleSubmitClick.bind(this));\n          linkinbioEditcardContainer.addEventListener('click', this.handleEditcardClick.bind(this));\n          linkinbioEditcardContainer.addEventListener('keyup', this.autoCompleteShorcdcode.bind(this));\n        }\n    }\n\n    ajaxDatile(urlDataId){\n        const updateUrl = document.getElementById('viewUrlLinks').value.replace(/0/g, urlDataId);\n        \n        const buttonLabelSelector = '#buttonLabel';\n        const urlDestinationUpdateSelector = '#urlDestinationUpdate';\n\n        const buttonLabelId = document.querySelector(buttonLabelSelector);\n        const urlDestinationUpdateId = document.querySelector(urlDestinationUpdateSelector);\n\n        const updateformlinkId = document.querySelector('.updateformlink');\n        const urlUpdateFormId = updateformlinkId.getAttribute('data-update-form');\n\n        const shortcodeId = document.querySelector('#shortcodeId');\n\n        $.ajax({\n            url: updateUrl,\n            type: 'GET',\n            dataType: 'json',\n            headers: {\n                'X-CSRFToken': this.csrftoken\n            },\n            success: function(data) {\n                console.log(data)\n                buttonLabelId.value = data.button_label;\n                urlDestinationUpdateId.value = data.url_destination;\n                updateformlinkId.dataset.shortcodeId = data.id;\n                shortcodeId.value = data.shortcode_id;\n            },\n            error: function() {\n                console.log('Fehler beim Abrufen der Daten');\n            }\n        });\n    }\n\n    // Update Form View\n    updateLinkForm(){\n        const linkInBioCardAddForm = document.getElementById('linkInBioCardAddForm');\n        linkInBioCardAddForm.classList.remove('d-none');\n    }\n\n    handleEditcardClick(event) {\n        const clickedEditcard = event.target.closest('.linkinbio-editcard');\n        if (clickedEditcard) {\n            const urlDataId = clickedEditcard.getAttribute('data-linkinbio-editcard');\n            this.updateLinkForm();\n            this.ajaxDatile(urlDataId);\n        }\n    }\n\n    handleSubmitClick(event){\n        event.preventDefault();\n        const updateformlink = document.querySelector('.updateformlink');\n        const urlUpdateFormId = updateformlink.getAttribute('data-update-form');\n        this.updateFormLinkinBio(urlUpdateFormId);\n    }\n\n    updateFormLinkinBio(urlUpdateFormId){\n\n        const updateUrlShortcode = document.getElementById('updateUrl').value.replace(/0/g, urlUpdateFormId);\n\n        const buttonLabelInput = document.querySelector('#buttonLabel');\n        const buttonLabelValue = buttonLabelInput.value;\n\n        const urlDestinationUpdateInput = document.querySelector('#urlDestinationUpdate')\n        const urlDestinationUpdateValue = urlDestinationUpdateInput.value;\n\n        const shortcodeId = document.querySelector('#shortcodeId');\n        const shortcodeIdValue = shortcodeId.value;\n\n        const linkInBioPageIdInput = document.querySelector('#linkInBioPageId')\n        const linkInBioPageIdValue = linkInBioPageIdInput.value;\n\n        console.log('Url ', updateUrlShortcode)\n        console.log('Form ID', urlUpdateFormId)\n        console.log('Label', buttonLabelValue);\n        console.log('Url', urlDestinationUpdateValue);\n        console.log('Shortcode', shortcodeIdValue);\n        console.log('Link Id', linkInBioPageIdValue);\n\n        // const formData = new FormData();\n        // formData.append('button_label', buttonLabelValue);\n        // formData.append('url_destination', urlDestinationUpdateValue);\n        // formData.append('shortcode_id', shortcodeIdValue);\n        // formData.append('link_page_id', linkInBioPageIdValue);\n\n        // $.ajax({\n        //     url: updateUrlShortcode,\n        //     type: 'POST',\n        //     data: formData,\n        //     contentType: 'application/json',\n        //     processData: false,\n        //     contentType: false,\n        //     headers: {\n        //         'X-CSRFToken': this.csrftoken \n        //     },\n        //     success: function(response) {\n        //         console.log(response);\n        //     },\n        //     error: function(error) {\n        //         console.log('Fehler bei der AJAX-Anfrage: ' + error.statusText);\n        //     }\n        // });\n\n    }\n\n    // Autocomplete Shorcdcode\n    autoCompleteShorcdcode(){\n        // ID Value\n        // const updateformlink = document.querySelector('.updateformlink');\n        // const urlUpdateFormId = updateformlink.getAttribute('data-update-form');\n\n        // // Value field\n        // const inputSearchformInput = document.querySelector('.inputSearchform');\n        // const inputSearchformValue = inputSearchformInput.value;\n\n        // // Url Shorcode\n        // const InputUrlShotcodeAutocomplete = document.querySelector('#urlDestinationUpdate' + urlUpdateFormId);\n        // const UrlShotcodeAutocompleteValue = InputUrlShotcodeAutocomplete.value;\n\n        // // Id link page\n        // const linkInBioPageId = document.querySelector('#linkInBioPageId' + urlUpdateFormId);\n        // const linkInBioPageIdValue = linkInBioPageId.value;\n\n        // // ID Shorcode\n        // const shortcodeId = document.querySelector('#shortcodeId' + urlUpdateFormId);\n        // const shortcodeIdValue = shortcodeId.value;\n\n        // shortcodeId.value = '';\n        \n        // // Search resultes\n        // const searchResultsDiv = document.querySelector('#search-results' + urlUpdateFormId )\n        \n        // // URL View\n        // const urlAutocompleteInput = document.querySelector('#valueUrlShotcodeAutocomplete');\n        // const urlAutocompleteValue = urlAutocompleteInput.value;\n\n        // if(inputSearchformValue.length > 2){\n        //     $.ajax({\n        //         url: urlAutocompleteValue,\n        //         type: 'GET',\n        //         data:{\n        //             link_in_bio_page_id: linkInBioPageIdValue,\n        //             search_term : UrlShotcodeAutocompleteValue,\n        //         },\n        //         headers: {\n        //             'X-CSRFToken': this.csrftoken \n        //         },\n        //         success: function(response) {\n        //             $(searchResultsDiv).empty();\n\n        //             response.forEach((item) => {\n        //                 const shortcodeItem = $('<li>');\n        //                 shortcodeItem.text(item.url_titel);\n        //                 shortcodeItem.attr('data-id', item.id);\n        //                 $(searchResultsDiv).append(shortcodeItem);\n        //             });\n\n        //             // Click add Value hiddenfields\n        //             this.shortcodeInput = $('#shortcodeId' + urlUpdateFormId);\n        //             $(searchResultsDiv).on('click', 'li', function () {\n        //                 const selectedText = $(this).text();\n        //                 const shortcodeDataId = $(this).attr('data-id');\n                        \n        //                 $(inputSearchformInput).val(selectedText);\n        //                 $('#shortcodeId' + urlUpdateFormId).val(shortcodeDataId);\n    \n        //                 $(searchResultsDiv).empty();\n        //             });\n\n        //         },\n        //         error: function(error) {\n        //             console.error('Error:', error);\n        //         }\n        //     });\n        // }\n    }\n\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createFormLinks);\n\n//# sourceURL=webpack://src/./assets/js/linkinbio/module/updateFormLinks.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./assets/js/linkinbio/linkinbio.js");
/******/ 	
/******/ })()
;